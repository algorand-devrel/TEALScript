import algosdk from "algosdk";
import * as bkr from "beaker-ts";
export class MerkleTree extends bkr.ApplicationClient {
    desc: string = "";
    override appSchema: bkr.Schema = { declared: { root: { type: bkr.AVMType.bytes, key: "root", desc: "", static: false }, size: { type: bkr.AVMType.uint64, key: "size", desc: "", static: false } }, reserved: {} };
    override acctSchema: bkr.Schema = { declared: {}, reserved: {} };
    override approvalProgram: string = "I3ByYWdtYSB2ZXJzaW9uIDgKCWIgbWFpbgoKY2FsY0luaXRSb290OgoJcHJvdG8gMyAxCgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEwCgkvLyByZXN1bHQgPSBzaGEyNTYoJycpCglieXRlICIiCglzaGEyNTYKCWZyYW1lX2J1cnkgLTEgLy8gcmVzdWx0OiBieXRlcwoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czoxMgoJLy8gaSA9IDAKCWludCAwCglmcmFtZV9idXJ5IC0yIC8vIGk6IHVpbnQ2NAoKZm9yXzA6CglmcmFtZV9kaWcgLTIgLy8gaTogdWludDY0CglpbnQgMwoJPAoJYnogZm9yXzBfZW5kCgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEzCgkvLyByZXN1bHQgPSBzaGEyNTYoY29uY2F0KHJlc3VsdCwgcmVzdWx0KSkKCWZyYW1lX2RpZyAtMSAvLyByZXN1bHQ6IGJ5dGVzCglmcmFtZV9kaWcgLTEgLy8gcmVzdWx0OiBieXRlcwoJY29uY2F0CglzaGEyNTYKCWZyYW1lX2J1cnkgLTEgLy8gcmVzdWx0OiBieXRlcwoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czoxMgoJLy8gaSA9IGkgKyAxCglmcmFtZV9kaWcgLTIgLy8gaTogdWludDY0CglpbnQgMQoJKwoJZnJhbWVfYnVyeSAtMiAvLyBpOiB1aW50NjQKCWIgZm9yXzAKCmZvcl8wX2VuZDoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czoxNgoJLy8gcmV0dXJuIHJlc3VsdDsKCWZyYW1lX2RpZyAtMSAvLyByZXN1bHQ6IGJ5dGVzCglyZXRzdWIKCmhhc2hDb25jYXQ6Cglwcm90byAzIDEKCgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MjAKCS8vIHJldHVybiBzaGEyNTYoY29uY2F0KGxlZnQsIHJpZ2h0KSk7CglmcmFtZV9kaWcgLTEgLy8gbGVmdDogYnl0ZXMKCWZyYW1lX2RpZyAtMiAvLyByaWdodDogYnl0ZXMKCWNvbmNhdAoJc2hhMjU2CglyZXRzdWIKCmlzUmlnaHRTaWJsaW5nOgoJcHJvdG8gMiAxCgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjI0CgkvLyByZXR1cm4gZ2V0Ynl0ZShzaWJsaW5nLCAwKSA9PT0gMTcwOwoJZnJhbWVfZGlnIC0xIC8vIHNpYmxpbmc6IGJ5dGVzCglpbnQgMAoJZ2V0Ynl0ZQoJaW50IDE3MAoJPT0KCWl0b2IKCWJ5dGUgMHgKCWImCglyZXRzdWIKCmNhbGNSb290OgoJcHJvdG8gNiAxCgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjI4CgkvLyByZXN1bHQgPSBsZWFmCglmcmFtZV9kaWcgLTEgLy8gbGVhZjogYnl0ZXMKCWZyYW1lX2J1cnkgLTMgLy8gcmVzdWx0OiBieXRlcwoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czozMAoJLy8gaSA9IDAKCWludCAwCglmcmFtZV9idXJ5IC00IC8vIGk6IHVpbnQ2NAoKZm9yXzE6CglmcmFtZV9kaWcgLTQgLy8gaTogdWludDY0CglpbnQgMwoJPAoJYnogZm9yXzFfZW5kCgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjMxCgkvLyBlbGVtID0gcGF0aFtpXQoJZnJhbWVfZGlnIC0yIC8vIHBhdGg6IGJ5dGVbMzNdWzNdCglmcmFtZV9kaWcgLTQgLy8gaTogdWludDY0CglpbnQgMzMKCSoKCWludCAzMwoJZXh0cmFjdDMKCWZyYW1lX2J1cnkgLTUgLy8gZWxlbTogYnl0ZVszM10KCgkvLyBpZjBfY29uZGl0aW9uCgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzMKCS8vIHRoaXMuaXNSaWdodFNpYmxpbmcoZWxlbSkKCWJ5dGUgMHgKCWR1cG4gMAoJZnJhbWVfZGlnIC01IC8vIGVsZW06IGJ5dGVbMzNdCgljYWxsc3ViIGlzUmlnaHRTaWJsaW5nCglieiBpZjBfZWxzZQoKCS8vIGlmMF9jb25zZXF1ZW50CgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzQKCS8vIHJlc3VsdCA9IHRoaXMuaGFzaENvbmNhdChyZXN1bHQsIGV4dHJhY3QzKGVsZW0sIDEsIDMyKSkKCWJ5dGUgMHgKCWR1cG4gMAoJZnJhbWVfZGlnIC01IC8vIGVsZW06IGJ5dGVbMzNdCglpbnQgMQoJaW50IDMyCglleHRyYWN0MwoJZnJhbWVfZGlnIC0zIC8vIHJlc3VsdDogYnl0ZXMKCWNhbGxzdWIgaGFzaENvbmNhdAoJZnJhbWVfYnVyeSAtMyAvLyByZXN1bHQ6IGJ5dGVzCgliIGlmMF9lbmQKCmlmMF9lbHNlOgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjM2CgkvLyByZXN1bHQgPSB0aGlzLmhhc2hDb25jYXQoZXh0cmFjdDMoZWxlbSwgMSwgMzIpLCByZXN1bHQpCglieXRlIDB4CglkdXBuIDAKCWZyYW1lX2RpZyAtMyAvLyByZXN1bHQ6IGJ5dGVzCglmcmFtZV9kaWcgLTUgLy8gZWxlbTogYnl0ZVszM10KCWludCAxCglpbnQgMzIKCWV4dHJhY3QzCgljYWxsc3ViIGhhc2hDb25jYXQKCWZyYW1lX2J1cnkgLTMgLy8gcmVzdWx0OiBieXRlcwoKaWYwX2VuZDoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czozMAoJLy8gaSA9IGkgKyAxCglmcmFtZV9kaWcgLTQgLy8gaTogdWludDY0CglpbnQgMQoJKwoJZnJhbWVfYnVyeSAtNCAvLyBpOiB1aW50NjQKCWIgZm9yXzEKCmZvcl8xX2VuZDoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czo0MAoJLy8gcmV0dXJuIHJlc3VsdDsKCWZyYW1lX2RpZyAtMyAvLyByZXN1bHQ6IGJ5dGVzCglyZXRzdWIKCmJhcmVfcm91dGVfRGVsZXRlQXBwbGljYXRpb246Cgl0eG4gT25Db21wbGV0aW9uCglpbnQgRGVsZXRlQXBwbGljYXRpb24KCT09Cgl0eG4gQXBwbGljYXRpb25JRAoJaW50IDAKCSE9CgkmJgoJYXNzZXJ0CglieXRlIDB4CglkdXBuIDAKCWNhbGxzdWIgZGVsZXRlCglpbnQgMQoJcmV0dXJuCgpkZWxldGU6Cglwcm90byAxIDAKCgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NDUKCS8vIGFzc2VydCh0aGlzLnR4bi5zZW5kZXIgPT09IHRoaXMuYXBwLmNyZWF0b3IpCgl0eG4gU2VuZGVyCgl0eG5hIEFwcGxpY2F0aW9ucyAwCglhcHBfcGFyYW1zX2dldCBBcHBDcmVhdG9yCglhc3NlcnQKCT09Cglhc3NlcnQKCXJldHN1YgoKYmFyZV9yb3V0ZV9jcmVhdGU6Cgl0eG4gT25Db21wbGV0aW9uCglpbnQgTm9PcAoJPT0KCXR4biBBcHBsaWNhdGlvbklECglpbnQgMAoJPT0KCSYmCglhc3NlcnQKCWJ5dGUgMHgKCWR1cG4gMAoJY2FsbHN1YiBjcmVhdGUKCWludCAxCglyZXR1cm4KCmNyZWF0ZToKCXByb3RvIDEgMAoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czo1MAoJLy8gdGhpcy5yb290LnB1dCh0aGlzLmNhbGNJbml0Um9vdCgpKQoJYnl0ZSAicm9vdCIKCWJ5dGUgMHgKCWR1cG4gMgoJY2FsbHN1YiBjYWxjSW5pdFJvb3QKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCmFiaV9yb3V0ZV92ZXJpZnk6Cgl0eG4gT25Db21wbGV0aW9uCglpbnQgTm9PcAoJPT0KCXR4biBBcHBsaWNhdGlvbklECglpbnQgMAoJIT0KCSYmCglhc3NlcnQKCWJ5dGUgMHgKCWR1cG4gMAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZXh0cmFjdCAyIDAKCWNhbGxzdWIgdmVyaWZ5CglpbnQgMQoJcmV0dXJuCgp2ZXJpZnk6Cglwcm90byAzIDAKCgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NTQKCS8vIGFzc2VydCh0aGlzLnJvb3QuZ2V0KCkgPT09IHRoaXMuY2FsY1Jvb3Qoc2hhMjU2KGRhdGEpLCBwYXRoKSkKCWJ5dGUgInJvb3QiCglhcHBfZ2xvYmFsX2dldAoJYnl0ZSAweAoJZHVwbiAzCglmcmFtZV9kaWcgLTIgLy8gcGF0aDogYnl0ZVszM11bM10KCWZyYW1lX2RpZyAtMSAvLyBkYXRhOiBieXRlcwoJc2hhMjU2CgljYWxsc3ViIGNhbGNSb290Cgk9PQoJYXNzZXJ0CglyZXRzdWIKCmFiaV9yb3V0ZV9hcHBlbmRMZWFmOgoJdHhuIE9uQ29tcGxldGlvbgoJaW50IE5vT3AKCT09Cgl0eG4gQXBwbGljYXRpb25JRAoJaW50IDAKCSE9CgkmJgoJYXNzZXJ0CglieXRlIDB4CglkdXBuIDAKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgljYWxsc3ViIGFwcGVuZExlYWYKCWludCAxCglyZXR1cm4KCmFwcGVuZExlYWY6Cglwcm90byAzIDAKCgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NTgKCS8vIGFzc2VydChkYXRhICE9PSAnJykKCWZyYW1lX2RpZyAtMSAvLyBkYXRhOiBieXRlcwoJYnl0ZSAiIgoJIT0KCWFzc2VydAoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czo1OQoJLy8gYXNzZXJ0KHRoaXMucm9vdC5nZXQoKSA9PT0gdGhpcy5jYWxjUm9vdChzaGEyNTYoJycpLCBwYXRoKSkKCWJ5dGUgInJvb3QiCglhcHBfZ2xvYmFsX2dldAoJYnl0ZSAweAoJZHVwbiAzCglmcmFtZV9kaWcgLTIgLy8gcGF0aDogYnl0ZVszM11bM10KCWJ5dGUgIiIKCXNoYTI1NgoJY2FsbHN1YiBjYWxjUm9vdAoJPT0KCWFzc2VydAoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czo2MQoJLy8gdGhpcy5yb290LnB1dCh0aGlzLmNhbGNSb290KHNoYTI1NihkYXRhKSwgcGF0aCkpCglieXRlICJyb290IgoJYnl0ZSAweAoJZHVwbiAzCglmcmFtZV9kaWcgLTIgLy8gcGF0aDogYnl0ZVszM11bM10KCWZyYW1lX2RpZyAtMSAvLyBkYXRhOiBieXRlcwoJc2hhMjU2CgljYWxsc3ViIGNhbGNSb290CglhcHBfZ2xvYmFsX3B1dAoKCS8vIGV4YW1wbGVzL21lcmtsZS9tZXJrbGUuYWxnby50czo2MwoJLy8gdGhpcy5zaXplLnB1dCh0aGlzLnNpemUuZ2V0KCkgKyAxKQoJYnl0ZSAic2l6ZSIKCWJ5dGUgInNpemUiCglhcHBfZ2xvYmFsX2dldAoJaW50IDEKCSsKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCmFiaV9yb3V0ZV91cGRhdGVMZWFmdDoKCXR4biBPbkNvbXBsZXRpb24KCWludCBOb09wCgk9PQoJdHhuIEFwcGxpY2F0aW9uSUQKCWludCAwCgkhPQoJJiYKCWFzc2VydAoJYnl0ZSAweAoJZHVwbiAwCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglleHRyYWN0IDIgMAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZXh0cmFjdCAyIDAKCWNhbGxzdWIgdXBkYXRlTGVhZnQKCWludCAxCglyZXR1cm4KCnVwZGF0ZUxlYWZ0OgoJcHJvdG8gNCAwCgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjY3CgkvLyBhc3NlcnQobmV3RGF0YSAhPT0gJycpCglmcmFtZV9kaWcgLTIgLy8gbmV3RGF0YTogYnl0ZXMKCWJ5dGUgIiIKCSE9Cglhc3NlcnQKCgkvLyBleGFtcGxlcy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NjgKCS8vIGFzc2VydCh0aGlzLnJvb3QuZ2V0KCkgPT09IHRoaXMuY2FsY1Jvb3Qoc2hhMjU2KG9sZERhdGEpLCBwYXRoKSkKCWJ5dGUgInJvb3QiCglhcHBfZ2xvYmFsX2dldAoJYnl0ZSAweAoJZHVwbiAzCglmcmFtZV9kaWcgLTMgLy8gcGF0aDogYnl0ZVszM11bM10KCWZyYW1lX2RpZyAtMSAvLyBvbGREYXRhOiBieXRlcwoJc2hhMjU2CgljYWxsc3ViIGNhbGNSb290Cgk9PQoJYXNzZXJ0CgoJLy8gZXhhbXBsZXMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjcwCgkvLyB0aGlzLnJvb3QucHV0KHRoaXMuY2FsY1Jvb3Qoc2hhMjU2KG5ld0RhdGEpLCBwYXRoKSkKCWJ5dGUgInJvb3QiCglieXRlIDB4CglkdXBuIDMKCWZyYW1lX2RpZyAtMyAvLyBwYXRoOiBieXRlWzMzXVszXQoJZnJhbWVfZGlnIC0yIC8vIG5ld0RhdGE6IGJ5dGVzCglzaGEyNTYKCWNhbGxzdWIgY2FsY1Jvb3QKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCm1haW46Cgl0eG4gTnVtQXBwQXJncwoJYm56IHJvdXRlX2FiaQoJdHhuIEFwcGxpY2F0aW9uSUQKCWludCAwCgk9PQoJYm56IGJhcmVfcm91dGVfY3JlYXRlCgl0eG4gT25Db21wbGV0aW9uCglpbnQgRGVsZXRlQXBwbGljYXRpb24KCT09CglpbnQgMQoJbWF0Y2ggYmFyZV9yb3V0ZV9EZWxldGVBcHBsaWNhdGlvbgoKcm91dGVfYWJpOgoJbWV0aG9kICJ2ZXJpZnkoYnl0ZVtdLGJ5dGVbMzNdWzNdKXZvaWQiCgltZXRob2QgImFwcGVuZExlYWYoYnl0ZVtdLGJ5dGVbMzNdWzNdKXZvaWQiCgltZXRob2QgInVwZGF0ZUxlYWZ0KGJ5dGVbXSxieXRlW10sYnl0ZVszM11bM10pdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoIGFiaV9yb3V0ZV92ZXJpZnkgYWJpX3JvdXRlX2FwcGVuZExlYWYgYWJpX3JvdXRlX3VwZGF0ZUxlYWZ0";
    override clearProgram: string = "I3ByYWdtYSB2ZXJzaW9uIDgKaW50IDEKcmV0dXJu";
    override methods: algosdk.ABIMethod[] = [
        new algosdk.ABIMethod({ name: "verify", desc: "", args: [{ type: "byte[]", name: "data", desc: "" }, { type: "byte[33][3]", name: "path", desc: "" }], returns: { type: "void", desc: "" } }),
        new algosdk.ABIMethod({ name: "appendLeaf", desc: "", args: [{ type: "byte[]", name: "data", desc: "" }, { type: "byte[33][3]", name: "path", desc: "" }], returns: { type: "void", desc: "" } }),
        new algosdk.ABIMethod({ name: "updateLeaft", desc: "", args: [{ type: "byte[]", name: "oldData", desc: "" }, { type: "byte[]", name: "newData", desc: "" }, { type: "byte[33][3]", name: "path", desc: "" }], returns: { type: "void", desc: "" } })
    ];
    async verify(args: {
        data: Uint8Array;
        path: Uint8Array[];
    }, txnParams?: bkr.TransactionOverrides): Promise<bkr.ABIResult<void>> {
        const result = await this.execute(await this.compose.verify({ data: args.data, path: args.path }, txnParams));
        return new bkr.ABIResult<void>(result);
    }
    async appendLeaf(args: {
        data: Uint8Array;
        path: Uint8Array[];
    }, txnParams?: bkr.TransactionOverrides): Promise<bkr.ABIResult<void>> {
        const result = await this.execute(await this.compose.appendLeaf({ data: args.data, path: args.path }, txnParams));
        return new bkr.ABIResult<void>(result);
    }
    async updateLeaft(args: {
        oldData: Uint8Array;
        newData: Uint8Array;
        path: Uint8Array[];
    }, txnParams?: bkr.TransactionOverrides): Promise<bkr.ABIResult<void>> {
        const result = await this.execute(await this.compose.updateLeaft({ oldData: args.oldData, newData: args.newData, path: args.path }, txnParams));
        return new bkr.ABIResult<void>(result);
    }
    compose = {
        verify: async (args: {
            data: Uint8Array;
            path: Uint8Array[];
        }, txnParams?: bkr.TransactionOverrides, atc?: algosdk.AtomicTransactionComposer): Promise<algosdk.AtomicTransactionComposer> => {
            return this.addMethodCall(algosdk.getMethodByName(this.methods, "verify"), { data: args.data, path: args.path }, txnParams, atc);
        },
        appendLeaf: async (args: {
            data: Uint8Array;
            path: Uint8Array[];
        }, txnParams?: bkr.TransactionOverrides, atc?: algosdk.AtomicTransactionComposer): Promise<algosdk.AtomicTransactionComposer> => {
            return this.addMethodCall(algosdk.getMethodByName(this.methods, "appendLeaf"), { data: args.data, path: args.path }, txnParams, atc);
        },
        updateLeaft: async (args: {
            oldData: Uint8Array;
            newData: Uint8Array;
            path: Uint8Array[];
        }, txnParams?: bkr.TransactionOverrides, atc?: algosdk.AtomicTransactionComposer): Promise<algosdk.AtomicTransactionComposer> => {
            return this.addMethodCall(algosdk.getMethodByName(this.methods, "updateLeaft"), { oldData: args.oldData, newData: args.newData, path: args.path }, txnParams, atc);
        }
    };
}
